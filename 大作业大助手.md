## 数据结构

父类不作为而子类作为直接使用的实体对象。子类的属性包括父类的属性。

### 用户(父类)

* id：pk
* real_name：实际姓名
* username：用户名
* password：密码
* sex：性别
* 是否通过审核: (0 for waiting, 1 for pass)
* type: 学生/老师/校友/管理员

### 学生(用户子类)

- school_name：学校名称
- grade：年级
- major：专业

### 管理员(用户子类)

因不知道业务流程，故暂无属性

### 职位发布者(用户子类)

无属性，设置该类的目的是作为接口方便其他类的属性定义。

### 教师(职位发布者子类)

- lab_belonging：工作实验室名称(外键)
- profession_title：职称
- research_direction：研究方向

### 校友(职位发布者子类)

- school_name：学校名称
- work_field：工作领域
- enterprise_belonging：工作企业名称(外键)

### 企业

* id：pk

- name：名称

### 实验室

* id：pk

- name：实验室名称

### 岗位

* id：pk

- name：岗位名称
- pospublisher: 发布者用户名(外键)
- description：岗位描述
- demanding：岗位要求
- salary：岗位薪资
- place: 地点
- label1
- label2
- label3

### 帖子

- id：pk
- title: 标题
- content：内容

### 简历

* id：pk
- name
- sender：投送者
- receiver：发布者
- edu_background: 教育背景
- per_statement: 个人陈述
- experience: 项目经历
- status: 接收状态 (0 for waiting, 1 for pass, 2 for reject)

### 消息

- id：pk
- sender：发送者(外键)
- receiver：接收者（外键）
- content：内容

## 功能

- 数据管理功能
  - 基本：增删查改
  - 高级
    - 支持Excel或者XML格式文件数据的导入、导出
    - 持高级用户对数据的审核：管理员
    - 数据的自动获取（爬虫）
- 数据展示功能
  - 基本：
    - 展示系统首页
    - 数据的列表、详情
  - 高级：数据的全文检索、比较、推荐
- 业务功能
  - 基础：发布岗位、应聘岗位....
  - 高级功能：筛简历.
- 统计分析
  - 基础：统计：薪资区间、岗位个数变化
  - 高级：粒度：按照职业专业的门类（CS→AI、system...）
- 安全防护
  - 基本要求：
  - 高级要求：



## 数据流图

![image-20221109203610459](D:\dasanshang\数据库\实验\assets\image-20221109203610459.png)



## 数据元素表



### 数据项

| 数据项名                        | 数据项含义           | 数据类型 | 长度 | 特殊限制                                                     |
| ------------------------------- | -------------------- | -------- | ---- | ------------------------------------------------------------ |
| User.id                         | pk                   | varchar  | 128  | primary key                                                  |
| User.real_name                  | 实际姓名             | varchar  | 128  | /                                                            |
| User.username                   | 用户名，同时也是账号 | varchar  | 128  | unique                                                       |
| User.password                   | 密码                 | varchar  | 256  | /                                                            |
| User.email                      | 电子邮箱             | varchar  | 128  | unique，符合邮箱格式                                         |
| User.sex                        | 用户性别             | varchar  | 10   | choices=("male","female")                                    |
| User.status                     | 用户状态             | varchar  | 10   | choices=("0","1","2")                                        |
| User.type                       | 用户类型             | varchar  | 10   | choices=("0","1","2","3")                                    |
| PosPublisher.id                 | pk，fk               | varchar  | 128  | primary key，fk：User                                        |
| Student.id                      | pk，fk               | varchar  | 128  | primary key，fk：User                                        |
| Student.school_name             | 学校名称             | varchar  | 128  | /                                                            |
| Student.grade                   | 年级                 | varchar  | 10   | choices=("大一"，"大二"，"大三"，"大四"，"研一"，"研二"，"研三"，"博一"，"博二") |
| Student.major                   | 专业                 | varchar  | 128  | /                                                            |
| Teacher.id                      | pk，fk               | varchar  | 128  | primary key，fk：PosPublisher                                |
| Teacher.profession_title        | 职称                 | varchar  | 128  | /                                                            |
| Teacher.research_direction      | 研究方向             | varchar  | 128  | /                                                            |
| Teacher.lab_belonging           | 实验室               | varchar  | 128  | fk：Lab                                                      |
| SchoolMate.id                   | pk，fk               | varchar  | 128  | primary key，fk：PosPublisher                                |
| SchoolMate.school_name          | 学校名称             | varchar  | 128  | /                                                            |
| SchoolMate.work_field           | 工作领域             | varchar  | 128  | /                                                            |
| SchoolMate.enterprise_belonging | 企业                 | varchar  | 128  | fk：Enterprise                                               |
| Enterprise.id                   | pk                   | varchar  | 128  | primary key                                                  |
| Enterprise.name                 | 姓名                 | varchar  | 128  | /                                                            |
| Enterprise.industry             | 行业                 | varchar  | 128  | /                                                            |
| Lab.id                          | pk                   | varchar  | 128  | primary key                                                  |
| Lab.name                        | 姓名                 | varchar  | 128  | /                                                            |
| Position.id                     | pk                   | varchar  | 128  | primary key                                                  |
| Position.name                   | 姓名                 | varchar  | 128  | /                                                            |
| Position.posPublisher           | 岗位发布者           | varchar  | 128  | fk：PosPublisher                                             |
| Position.description            | 岗位描述             | varchar  | 256  | /                                                            |
| Position.demanding              | 要求                 | varchar  | 256  | /                                                            |
| Position.salary                 | 薪水                 | varchar  | 32   | /                                                            |
| Position.place                  | 地点                 | varchar  | 128  | /                                                            |
| Position.label1                 | 标签1                | varchar  | 128  | /                                                            |
| Position.label2                 | 标签2                | varchar  | 128  | /                                                            |
| Position.label3                 | 标签3                | varchar  | 128  | /                                                            |
| Post.id                         | pk                   | varchar  | 128  | primary key                                                  |
| Post.title                      | 标题                 | varchar  | 128  | /                                                            |
| Post.content                    | 内容                 | varchar  | 1024 | /                                                            |
| Resume.id                       | pk                   | varchar  | 128  | primary key                                                  |
| Resume.name                     | 名称                 | varchar  | 128  | unique                                                       |
| Resume.edu_background           | 教育背景             | varchar  | 1024 | /                                                            |
| Resume.per_statement            | 个人介绍             | varchar  | 1024 | /                                                            |
| Resume.experience               | 工作经历             | varchar  | 1024 | /                                                            |
| Resume.sender                   | 发送者               | varchar  | 128  | fk：Student                                                  |
| Resume.status                   | 状态                 | varchar  | 8    | choices=("0"，"1"，"2")                                      |
| Resume_Receiver.id              | pk                   | varchar  | 128  | primary key                                                  |
| Resume_Receiver.resume          | fk                   | varchar  | 128  | fk：Resume                                                   |
| Resume_Receiver.receiver        | fk                   | varchar  | 128  | fk：PosPublisher                                             |
|                                 |                      |          |      |                                                              |
|                                 |                      |          |      |                                                              |
|                                 |                      |          |      |                                                              |
|                                 |                      |          |      |                                                              |
|                                 |                      |          |      |                                                              |
|                                 |                      |          |      |                                                              |
|                                 |                      |          |      |                                                              |
|                                 |                      |          |      |                                                              |
|                                 |                      |          |      |                                                              |
|                                 |                      |          |      |                                                              |

### 数据流

用户代指学生、校友、老师

回复、帖子、岗位、企业、实验室

| 数据流名称     | 说明                     | 数据流来源     | 数据流去向               | 组成                   | 平均流量  | 高峰期流量 |
| :------------- | :----------------------- | :------------- | :----------------------- | :--------------------- | :-------- | :--------- |
| 用户登录信息   | 用户发送的登录请求       | 数据结构[用户] | 处理过程[登录]           | 用户编号，密码         | 每天100个 | 每天1000个 |
| 修改密码信息   | 用户修改密码的请求       | 数据结构[用户] | 处理过程[修改密码]       | 用户编号，密码         | 每天100个 | 每天1000个 |
| 校验登录信息   | 数据库提供密码用于校验   | 存储[用户]     | 处理过程[登录]           | 密码                   | 每天100个 | 每天1000个 |
| 查看帖子信息   | 用户请求查看帖子信息     | 数据结构[用户] | 处理过程[查看帖子]       | 帖子编号               | 每天100个 | 每天1000个 |
| 编辑帖子信息   | 用户发表帖子             | 数据结构[用户] | 处理过程[编辑帖子]       | 帖子编号，帖子内容     | 每天100个 | 每天1000个 |
| 帖子内容       | 数据库提供帖子内容       | 存储[帖子]     | 处理过程[查看]           | 帖子内容               | 每天100个 | 每天1000个 |
| 查看回复信息   | 用户请求查看回复信息     | 数据结构[用户] | 处理过程[查看回复]       | 回复编号               | 每天100个 | 每天1000个 |
| 编辑回复信息   | 用户发表回复             | 数据结构[用户] | 处理过程[编辑回复]       | 回复编号，回复内容     | 每天100个 | 每天1000个 |
| 回复内容       | 数据库提供回复内容       | 存储[回复]     | 处理过程[查看回复]       | 回复内容               | 每天100个 | 每天1000个 |
| 查看简历内容   | 用户请求查看简历         | 数据结构[用户] | 处理过程[查看简历]       | 简历编号               | 每天100个 | 每天1000个 |
| 编辑简历内容   | 用户编辑简历内容         | 数据结构[用户] | 处理过程[编辑简历内容]   | 简历编号，简历内容     | 每天100个 | 每天1000个 |
| 简历内容       | 数据库提供简历内容信息   | 储存[简历]     | 处理过程[查看简历内容]   | 简历内容               | 每天100个 | 每天1000个 |
| 查看实验室信息 | 用户请求查看实验室       | 数据结构[用户] | 处理过程[查看实验室信息] | 实验室编号             | 每天100个 | 每天1000个 |
| 编辑实验室信息 | 用户编辑实验室信息       | 数据结构[用户] | 处理过程[编辑实验室信息] | 实验室编号，实验室信息 | 每天100个 | 每天1000个 |
| 实验室信息     | 数据库提供实验室信息信息 | 储存[实验室]   | 处理过程[查看实验室信息] | 实验室信息             | 每天100个 | 每天1000个 |
| 查看企业信息   | 用户请求查看企业         | 数据结构[用户] | 处理过程[查看企业]       | 企业编号               | 每天100个 | 每天1000个 |
| 编辑企业信息   | 用户编辑企业信息         | 数据结构[用户] | 处理过程[编辑企业信息]   | 企业编号，企业信息     | 每天100个 | 每天1000个 |
| 企业信息       | 数据库提供企业信息       | 储存[企业]     | 处理过程[查看企业信息]   | 企业信息               | 每天100个 | 每天1000个 |
| 查看岗位信息   | 用户请求查看岗位信息     | 数据结构[用户] | 处理过程[查看岗位信息]   | 岗位编号               | 每天100个 | 每天1000个 |
| 编辑岗位信息   | 用户编辑岗位信息         | 数据结构[用户] | 处理过程[编辑岗位信息]   | 岗位编号，岗位信息     | 每天100个 | 每天1000个 |
| 岗位信息       | 数据库提供岗位信息       | 储存[岗位]     | 处理过程[查看岗位信息]   | 岗位信息               | 每天100个 | 每天1000个 |

### 数据储存

| 数据储存名 |      说明      |  输入的数据流  | 输出的数据流   |    组成    |  数据量   | 存取频度  | 存取方式 |
| :--------: | :------------: | :------------: | -------------- | :--------: | :-------: | :-------: | :------: |
|    用户    |  记录用户信息  |  修改密码信息  | 校验登录信息   | 编号，密码 | 100个记录 | 每天100个 | 随机存取 |
|    回复    |  记录回复信息  |  修改回复信息  | 回复内容信息   |  回复内容  | 100个记录 | 每天100个 | 随机存取 |
|    帖子    |  记录帖子信息  |  修改帖子信息  | 帖子内容信息   |  帖子内容  | 100个记录 | 每天100个 | 随机存取 |
|    岗位    |  记录岗位信息  |  修改岗位信息  | 岗位内容信息   |  岗位内容  | 100个记录 | 每天100个 | 随机存取 |
|    企业    |  记录企业信息  |  修改企业信息  | 企业内容信息   |  企业内容  | 100个记录 | 每天100个 | 随机存取 |
|   实验室   | 记录实验室信息 | 修改实验室信息 | 实验室内容信息 | 实验室内容 | 100个记录 | 每天100个 | 随机存取 |
|    简历    |  记录简历信息  |  修改简历信息  | 简历内容信息   |  简历内容  | 100个记录 | 每天100个 | 随机存取 |

### 处理过程



## ER图

![image-20221019191207752](D:\dasanshang\数据库\实验\assets\image-20221019191207752.png)

## 关系模式

用户(id，用户名，真实姓名，密码，性别，状态，类型)

* 主码：id

岗位发布者(id)

* 主码：id
* 外码：id(用户)

学生(id，学校名称，年级，专业)

* 主码：id
* 外码：id(用户)

教师(id，职称，研究方向，实验室属地)

* 主码：id
* 外码：id(岗位发布者)，实验室属地(实验室)

校友(id，学校名称，工作领域，企业属地)

* 主码：id
* 外码：id(岗位发布者)，企业属地(企业)

管理员(id)

* 主码：id
* 外码：id(用户)

企业(id，名称，领域)

* 主码：id

实验室(id，名称)

* 主码：id

职位(id，名称，岗位发布者，描述，要求，薪资，地点，标签1，标签2，标签3)

* 主码：id
* 外码：岗位发布者，

帖子(id，标题，内容)

* 主码：id

简历(id，名称，教育背景，个人介绍，工作经历，发送者，状态)

* 主码：id

简历接收者(id，简历，接收者)

* 主码：id
* 外键：简历(简历)，接收者(岗位发布者)



1. 比如从网站爬取相关数据？自己还是别的网站



- 输入：学生、校友、教师
- 输出（显示）：岗位、企业、实验室、简历、消息、公告
- 数据储存：所有的
- 定义数据流：





- 登录页面：
  - 是主页面

- 搜索页面：点击搜索栏搜索回车后跳转到搜索界面
  - 出现很多职位，左面职位右面介绍
  - 点击右上角跳转到私信界面
- “发现”页直接看到人（使用智能推荐算法）
- “消息私信”
- 人可以自己发帖子，在帖子下方回复（类似于微博）
- 好友邀请放到消息里，岗位推荐放到首页（职位），也有推荐算法
- “我”界面
